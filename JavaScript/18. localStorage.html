<!DOCTYPE html>
<html lang="ko">

<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
   <title>localStorage</title>
</head>

<style>
   .alert{
      display: none;
   }
</style>

<body>
   <div class="container">
      <div class="alert alert-warning text-center" role="alert">
         <h6>좋아요 Click 완료!</h6>
      </div>
      <div class="row card-container"></div>
      <div class="text-center my-4">
         <button class="btn btn-success more">more</button>
      </div>
   </div>


   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous">
      </script>

   <script src="https://code.jquery.com/jquery-3.6.3.min.js"
      integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous">
      </script>

   <script>
      var newjeans = [
         {
            id: 0,
            name: "Minji",
            age: 20,
         },
         {
            id: 1,
            name: "Hanni",
            age: 20,
         },
         {
            id: 2,
            name: "Danielle",
            age: 19,
         },
         {
            id: 3,
            name: "Haerin",
            age: 18,
         },
         {
            id: 4,
            name: "Hyein",
            age: 16,
         }
      ];
      // var lesserafim = [
      //    {
      //       id: 5,
      //       name: "사쿠라",
      //       age: 26,
      //    },
      //    {
      //       id: 6,
      //       name: "김채원",
      //       age: 24,
      //    },
      //    {
      //       id: 7,
      //       name: "허윤진",
      //       age: 22,
      //    },
      //    {
      //       id: 8,
      //       name: "카즈하",
      //       age: 21,
      //    },
      //    {
      //       id: 9,
      //       name: "홍은채",
      //       age: 18,
      //    }
      // ]

      newjeans.map(function (data, i) {
         var card = `
            <div class="col-sm-4 member">
               <img src="./img/${data.name}_omg.jfif" class="mt-4 w-50">
               <h5>${data.name}</h5>
               <p>나이: ${data.age}</p>
               <button class="good btn btn-outline-dark">좋아요 🐰
            </div>`
         $('.card-container').append(card);
      })

      cnt = 0;
      $('.more').click(function () {
         cnt++;
         if (cnt == 1) {
            $.get('https://hyunkyu-song.github.io/girlgroup/lesserafim2.json')
               .done(function (data) {
                  data.map(function (item, i) { if (i < 3) { 더보기(item, i); } })
               })
         }
         else if (cnt == 2) {
            $.get('https://hyunkyu-song.github.io/girlgroup/lesserafim2.json')
               .done(function (data) {
                  data.map(function (item, i) { if (i >= 3) { 더보기(item, i); } })
               })
            $('.more').remove();
         }
      })

      $('.good').click(function (e) {
         $('.alert').css('display', 'block');

         setTimeout(function(){
            $('.alert').css('display', 'none');
         }, 1000);

         var element = e.target.previousElementSibling.previousElementSibling;
         console.log($(element).val());
         // $(element).html('123');

         var local = localStorage.getItem('cart');

         // if(local === null){
         //    console.log('비었음');
         //    localStorage.setItem('cart', 'e.target.previousElementSibling.previousElementSibling');
         // }
         
      })

      function 더보기(inp1, inp2) {
         var card = `
            <div class="col-sm-4 member">
               <img src="./img/${inp1.name}.jfif" class="mt-4 w-50">
               <h5>${inp1.name}</h5>
               <p>나이: ${inp1.age}</p>
            </div>`
         $('.card-container').append(card);
      }
   </script>
</body>
<script>

</script>


</html>